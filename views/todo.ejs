<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <table>
        <tr>
            <td id="work">
                <%= work.Title %>
            </td>
        </tr>
        <tr>
            <td id="desc">
                <%=work.Description %>
            </td>
        </tr>
        <tr>
            <td id="link">
                <a id="child" href="<%=work.Link %>" target="_blank"><%=work.Link %></a>
            </td>
        </tr>
        </tr>
    </table>
    <a href="/edit">Edit data</a>
</br>
    <a href="/add">Add data</a>
</br>
    <a href="/delete">Delete data</a>
</body>
<script>
    setInterval(()=>{
        console.log("resquest send");
      fetch("/todo1").then((response)=>{
        console.log(response);
        return response.json();
      }).then((data)=>{
        document.getElementById("work").innerHTML=data.Title;
        document.getElementById("desc").innerHTML=data.Description;
        var existingLink=document.getElementById("link");
        existingLink.removeChild(document.getElementById("child"));
        var newLink=document.createElement("a");
        newLink.href=data.Link;
        newLink.target="_blank";
        newLink.id="child";
        newLink.textContent=data.Link;
        existingLink.appendChild(newLink);
      })
      .catch((e)=>{
        console.log(e);
      })
    },1000*60*30);
</script>
</html>